<?xml version="1.0"?>
<ruleset name="OnzraCakePHP">
    <description>The ONZRA CakePHP 2.x coding standard.</description>

    <rule ref="PSR2">
        <!-- CakePHP does not use namespaces. -->
        <exclude name="PSR1.Classes.ClassDeclaration.MissingNamespace"/>
        <!-- Allow App::uses() includes in class files. -->
        <exclude name="PSR1.Files.SideEffects.FoundWithSymbols" />
    </rule>

    <!-- Allow underscored function names, but only in controllers -->
    <rule ref="PSR1.Methods.CamelCapsMethodName.NotCamelCaps">
        <exclude-pattern>/Controller/*</exclude-pattern>
    </rule>

    <!-- Proper docblock formatting -->
    <rule ref="Generic.Commenting.DocComment"/>

    <!-- Class comments -->
    <rule ref="OnzraCakePHP2x.Commenting.ClassComment" />

    <!-- Function comments -->
    <rule ref="Squiz.Commenting.FunctionComment">
        <exclude name="Squiz.Commenting.FunctionComment.MissingReturn"/>
        <!-- TODO: Make a version of this sniff that allows int and bool (vs. integer and boolean) -->
        <exclude name="Squiz.Commenting.FunctionComment.IncorrectParamVarName" />
        <exclude name="Squiz.Commenting.FunctionComment.ParamCommentFullStop" />
    </rule>

    <!-- Variable comments -->
    <rule ref="Squiz.Commenting.VariableComment" />

</ruleset>
